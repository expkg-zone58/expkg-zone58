<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta http-equiv="Generator" content="xquerydoc - https://github.com/xquery/xquerydoc">
      <title>expkg-zone58:image.metadata
         					- xqDoc
         				
      </title>
      <link rel="stylesheet" type="text/css" href="../resources/page.css">
      <link rel="stylesheet" type="text/css" href="../resources/query.css">
      <link rel="stylesheet" type="text/css" href="../resources/base.css">
      <link rel="stylesheet" type="text/css" href="../resources/prettify.css">
    <script src="../resources/prettify.js" type="text/javascript"> </script>
    <script src="../resources/lang-xq.js" type="text/javascript"> </script>
  </head>
   <body class="home" id="top">
      <div id="main">
         <h1>
        <span class="namespace">expkg-zone58:image.metadata</span>
            			&nbsp;
            			library
            			module
            		
         </h1>
         <dl>
            <dt class="label">Summary</dt>
            <dd>Return metadata from image file as xml using the 
               
               <a xmlns="" xmlns:xqdoc="http://www.xqdoc.org/1.0" href="https://github.com/drewnoakes/metadata-extractor">http://drewnoakes.com/code/exif/</a> library.
               
               <pre xmlns="" xmlns:xqdoc="http://www.xqdoc.org/1.0">
                  usage: 
                  
                  <code>imgmeta:read('C:/temp/apic.jpg')</code>
                  
               </pre>
               The xml format based on xmlcalabash1
               
               includes utility functions for post processing some tags such as GPS information.
            </dd>
            <dt>Tags</dt>
            <dd>
               <p>
                  			Author:
                  			andy bunce
               </p>
               		See also:
               		https://github.com/ndw/xmlcalabash1/blob/master/src/com/xmlcalabash/extensions/MetadataExtractor.java
               <p>
                  			Version:
                  			1.1.0
               </p>
            </dd>
         </dl>
         <nav id="toc">
            <div>
          <a href="../#metadata-extract">↰</a>
          <span class="namespace">expkg-zone58:image.metadata</span>
        </div>
            <h2>
          <a id="contents"></a>
               				Table of Contents
               			
            </h2>
            <ol class="toc">
               <li>
            <a href="#main">
              <span class="secno">1 </span>
              <span class="content">Introduction</span>
            </a>
          </li>
               <li>
                  <ol class="toc">
                     <li>
                <a href="#variables">
                  <span class="secno">2 </span>
                  <span class="content">Variables</span>
                </a>
                <ol class="toc"></ol>
                     </li>
                  </ol>
               </li>
               <li>
                  <ol class="toc">
                     <li>
                <a href="#functions">
                  <span class="secno">3 </span>
                  <span class="content">Functions</span>
                </a>
                <ol class="toc">
                           <li>
                    <a href="#imgmeta:core">
                      <span class="secno">
                                    												3.
                                    												1</span>
                      <span class="content">imgmeta:core</span>
                    </a>
                  </li>
                           <li>
                    <a href="#imgmeta:geo">
                      <span class="secno">
                                    												3.
                                    												2</span>
                      <span class="content">imgmeta:geo</span>
                    </a>
                  </li>
                           <li>
                    <a href="#imgmeta:geodecimal">
                      <span class="secno">
                                    												3.
                                    												3</span>
                      <span class="content">imgmeta:geodecimal</span>
                    </a>
                  </li>
                           <li>
                    <a href="#imgmeta:isodate">
                      <span class="secno">
                                    												3.
                                    												4</span>
                      <span class="content">imgmeta:isodate</span>
                    </a>
                  </li>
                           <li>
                    <a href="#imgmeta:keywords">
                      <span class="secno">
                                    												3.
                                    												5</span>
                      <span class="content">imgmeta:keywords</span>
                    </a>
                  </li>
                           <li>
                    <a href="#imgmeta:read">
                      <span class="secno">
                                    												3.
                                    												6</span>
                      <span class="content">imgmeta:read</span>
                    </a>
                  </li>
                           <li>
                    <a href="#imgmeta:tags">
                      <span class="secno">
                                    												3.
                                    												7</span>
                      <span class="content">imgmeta:tags</span>
                    </a>
                  </li>
                        </ol>
                     </li>
                  </ol>
               </li>
               <li>
            <a href="#namespaces">
              <span class="secno">4 </span>
              <span class="content">Namespaces</span>
            </a>
          </li>
            </ol>
         </nav>
         <div id="functions">
            <h3>
          <a href="#functions">Functions</a>
        </h3>
            <div id="imgmeta:core">
               <h4>
            <a href="#imgmeta:core">imgmeta:core</a>
          </h4>
               <dt class="label">Summary</dt>
               <dd>Extract core stuff
                  width,height,datetaken,model,caption
               </dd>
               <dt class="label">Signature</dt>
               <dd>
                  <div class="proto">
              <code class="function">imgmeta:core</code>( <code class="arg">metadata</code>
              <code class="as">&nbsp;as&nbsp;</code>
              <code class="type">element(metadata)</code> )<code class="as">&nbsp;as&nbsp;</code>
              <code class="return-type">element()*</code>
            </div>
               </dd>
               <dt class="label">Parameters</dt>
               <dd>
                  <ul>
                     <li>metadata
                        			as
                        			element(metadata)
                     </li>
                  </ul>
               </dd>
               <dt class="label">Return</dt>
               <dd>
                  <ul>
                     <li>element()*</li>
                  </ul>
               </dd>
            </div>
            <div id="imgmeta:geo">
               <h4>
            <a href="#imgmeta:geo">imgmeta:geo</a>
          </h4>
               <dt class="label">Summary</dt>
               <dd>Process gps elements</dd>
               <dt class="label">Signature</dt>
               <dd>
                  <div class="proto">
              <code class="function">imgmeta:geo</code>( <code class="arg">metadata</code>
              <code class="as">&nbsp;as&nbsp;</code>
              <code class="type">element(metadata)</code> )<code class="as">&nbsp;as&nbsp;</code>
              <code class="return-type">element(geo)?</code>
            </div>
               </dd>
               <dt class="label">Parameters</dt>
               <dd>
                  <ul>
                     <li>metadata
                        			as
                        			element(metadata)
                     </li>
                  </ul>
               </dd>
               <dt class="label">Return</dt>
               <dd>
                  <ul>
                     <li>element(geo)?: geo tag with lat and long children</li>
                  </ul>
               </dd>
            </div>
            <div id="imgmeta:geodecimal">
               <h4>
            <a href="#imgmeta:geodecimal">imgmeta:geodecimal</a>
          </h4>
               <dt class="label">Summary</dt>
               <dd>Convert degrees minutes seconds to decimal degrees</dd>
               <dt class="label">Signature</dt>
               <dd>
                  <div class="proto">
              <code class="function">imgmeta:geodecimal</code>( <code class="arg">dms</code>
              <code class="as">&nbsp;as&nbsp;</code>
              <code class="type">xs:string</code> )<code class="as">&nbsp;as&nbsp;</code>
              <code class="return-type">xs:double</code>
            </div>
               </dd>
               <dt class="label">Parameters</dt>
               <dd>
                  <ul>
                     <li>dms
                        			as
                        			xs:string string like 45.0� 1.0' 46.32869861594543"
                     </li>
                  </ul>
               </dd>
               <dt class="label">Return</dt>
               <dd>
                  <ul>
                     <li>xs:double</li>
                  </ul>
               </dd>
            </div>
            <div id="imgmeta:isodate">
               <h4>
            <a href="#imgmeta:isodate">imgmeta:isodate</a>
          </h4>
               <dt class="label">Summary</dt>
               <dd>Convert date like "2010:06:30 14:26:25" to iso format</dd>
               <dt class="label">Signature</dt>
               <dd>
                  <div class="proto">
              <code class="function">imgmeta:isodate</code>( <code class="arg">value</code>
              <code class="as">&nbsp;as&nbsp;</code>
              <code class="type">xs:string</code> )<code class="as">&nbsp;as&nbsp;</code>
              <code class="return-type">xs:string</code>
            </div>
               </dd>
               <dt class="label">Parameters</dt>
               <dd>
                  <ul>
                     <li>value
                        			as
                        			xs:string
                     </li>
                  </ul>
               </dd>
               <dt class="label">Return</dt>
               <dd>
                  <ul>
                     <li>xs:string</li>
                  </ul>
               </dd>
            </div>
            <div id="imgmeta:keywords">
               <h4>
            <a href="#imgmeta:keywords">imgmeta:keywords</a>
          </h4>
               <dt class="label">Summary</dt>
               <dd>Extract keywords and split into seperate elements</dd>
               <dt class="label">Signature</dt>
               <dd>
                  <div class="proto">
              <code class="function">imgmeta:keywords</code>( <code class="arg">metadata</code>
              <code class="as">&nbsp;as&nbsp;</code>
              <code class="type">element(metadata)</code> )<code class="as">&nbsp;as&nbsp;</code>
              <code class="return-type">element(keywords)?</code>
            </div>
               </dd>
               <dt class="label">Parameters</dt>
               <dd>
                  <ul>
                     <li>metadata
                        			as
                        			element(metadata)
                     </li>
                  </ul>
               </dd>
               <dt class="label">Return</dt>
               <dd>
                  <ul>
                     <li>element(keywords)?: keyword elements wrapped in keywords</li>
                  </ul>
               </dd>
            </div>
            <div id="imgmeta:read">
               <h4>
            <a href="#imgmeta:read">imgmeta:read</a>
          </h4>
               <dt class="label">Summary</dt>
               <dd>Read image metadata from file, errors are supressed</dd>
               <dt class="label">Signature</dt>
               <dd>
                  <div class="proto">
              <code class="function">imgmeta:read</code>( <code class="arg">path</code>
              <code class="as">&nbsp;as&nbsp;</code>
              <code class="type">xs:string</code> )<code class="as">&nbsp;as&nbsp;</code>
              <code class="return-type">element(metadata)</code>
            </div>
               </dd>
               <dt class="label">Parameters</dt>
               <dd>
                  <ul>
                     <li>path
                        			as
                        			xs:string source file
                     </li>
                  </ul>
               </dd>
               <dt class="label">Return</dt>
               <dd>
                  <ul>
                     <li>element(metadata)</li>
                  </ul>
               </dd>
            </div>
            <div id="imgmeta:tags">
               <h4>
            <a href="#imgmeta:tags">imgmeta:tags</a>
          </h4>
               <dt class="label">Summary</dt>
               <dd>Read image metadata from file</dd>
               <dt class="label">Signature</dt>
               <dd>
                  <div class="proto">
              <code class="function">imgmeta:tags</code>( <code class="arg">path</code>
              <code class="as">&nbsp;as&nbsp;</code>
              <code class="type">xs:string</code> )<code class="as">&nbsp;as&nbsp;</code>
              <code class="return-type">element(tag)*</code>
            </div>
               </dd>
               <dt class="label">Parameters</dt>
               <dd>
                  <ul>
                     <li>path
                        			as
                        			xs:string
                     </li>
                  </ul>
               </dd>
               <dt class="label">Return</dt>
               <dd>
                  <ul>
                     <li>element(tag)*: sequence of 
                        <code xmlns="" xmlns:xqdoc="http://www.xqdoc.org/1.0">tag</code> elements
                     </li>
                  </ul>
               </dd>
            </div>
         </div>
         <div id="namespaces">
            <h3>
          <a href="#namespaces">Namespaces</a>
        </h3>
            <p>The following namespaces are defined:</p>
            <table style="float:none">
               <thead>
                  <tr>
                     <th>Prefix</th>
                     <th>Uri</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>ann</td>
                     <td>http://www.w3.org/2012/xquery</td>
                  </tr>
                  <tr>
                     <td>apb</td>
                     <td>java:org.apb.modules.TestModule</td>
                  </tr>
                  <tr>
                     <td>ArrayList</td>
                     <td>java:java.util.ArrayList</td>
                  </tr>
                  <tr>
                     <td>Directory</td>
                     <td>java:com.drew.metadata.Directory</td>
                  </tr>
                  <tr>
                     <td>File</td>
                     <td>java:java.io.File</td>
                  </tr>
                  <tr>
                     <td>ImageMetadataReader</td>
                     <td>java:com.drew.imaging.ImageMetadataReader</td>
                  </tr>
                  <tr>
                     <td>imgmeta</td>
                     <td>expkg-zone58:image.metadata</td>
                  </tr>
                  <tr>
                     <td>Metadata</td>
                     <td>java:com.drew.metadata.Metadata</td>
                  </tr>
                  <tr>
                     <td>Tag</td>
                     <td>java:com.drew.metadata.Tag</td>
                  </tr>
                  <tr>
                     <td>URL</td>
                     <td>java:java.net.URL</td>
                  </tr>
                  <tr>
                     <td>URLConnection</td>
                     <td>java.net.URLConnection</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div>
            <h3>Original Source Code</h3>
        <pre class="prettyprint lang-xq">Not available</pre>
      </div>
      <br>
      <div class="footer">
            <p style="text-align:right">
          <i></i>
               							|
               							generated at
               							2017-04-11T16:13:58.529+01:00
            </p>
         </div>
      </div>
    <script type="application/javascript">
					window.onload = function(){ prettyPrint(); }
				</script>
  </body>
</html>