<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta http-equiv="Generator" content="xquerydoc - https://github.com/xquery/xquerydoc">
      <title>expkg-zone58.image.metadata
         					- xqDoc
         				
      </title>
    <style type="text/css">body {
	font-family: Helvetica;
	padding: 0.5em 1em;
}

pre {
	font-family: Inconsolata, Consolas, monospace;
}

ol.results {
	padding-left: 0;
}

.footer {
	text-align: right;
	border-top: solid 4px;
	padding: 0.25em 0.5em;
	font-size: 85%;
	color: #999;
}

li.result {
	list-style-position: inside;
	list-style: none;
	height: 140px;
}

h2 {
	display: inline-block;
	margin: 0;
}

h2 a, .result h3 a {
	text-decoration: inherit;
	color: inherit;
}

h3 {
	font-size: 140%;
	background-color: #aaa;
	border-bottom: 1px solid #000;
	width: 100%;
}

h4 {
	font-size: 100%;
	background-color: #ddd;
	width: 90%;
}

.namespace {
	color: #999;
}

.namespace:before {
	content: "{";
}

.namespace:after {
	content: "}";
}

td {
	vertical-align: text-top;
}</style>
    <style type="text/css">/* from xsl:query.xsl (D) from
                    https://www.w3.org/TR/xpath-functions-31*/
                    div.exampleInner pre {
                    margin-left: 1em;
                    margin-top: 0em; margin-bottom: 0em}

                    pre.small {
                    font-size: small }
                    div.exampleOuter {border: 4px double gray;
                    margin: 0em; padding: 0em}
                    div.exampleInner { background-color:
                    #d5dee3;
                    padding: 4px; margin: 0em }

                    div.exampleInner table { border:
                    0;
                    border-spacing: 0;
                    }

                    div.exampleInner td { vertical-align:
                    baseline;
                    padding: 0;
                    }

                    div.exampleWrapper { margin: 4px }
                    div.exampleHeader { font-weight: bold;
                    margin: 4px}

                    div.proto {
                    border: 0;
                    border-spacing: 0;
                    }

                    div.issue { border-bottom-color:
                    black;
                    border-bottom-style: solid;
                    border-bottom-width: 1pt;
                    margin-bottom: 20pt;
                    }

                    th.issue-toc-head { border-bottom-color:
                    black;
                    border-bottom-style: solid;
                    border-bottom-width: 1pt;
                    }


                    div.schemaComp { border: 4px double gray;
                    margin: 0em 1em;
                    padding:
                    0em;
                    }
                    div.compHeader { margin: 4px;
                    font-weight: bold;
                    }
                    span.schemaComp { background-color: white;
                    color: #A52A2A;
                    }
                    div.compBody { border-top-width: 4px;
                    border-top-style: double;
                    border-top-color: #d3d3d3;
                    padding: 4px;
                    margin: 0em;
                    }

                    div.exampleInner { background-color: #d5dee3;
                    color: black;
                    border-top-width: 4px;
                    border-top-style: double;
                    border-top-color:
                    #d3d3d3;
                    border-bottom-width: 4px;
                    border-bottom-style: double;
                    border-bottom-color: #d3d3d3;
                    padding: 4px;
                    margin-bottom: 4px;
                    }

                    div.issueBody { margin-left: 0.25in;
                    }

                    code.function { font-weight:
                    bold;
                    }
                    code.return-type { font-style: italic;
                    }
                    code.return-varies {
                    font-weight: bold;
                    font-style: italic;
                    }
                    code.type { font-style:
                    italic;
                    }
                    code.as { font-style: normal;
                    }
                    code.arg {
                    }
                    code.strikeout {
                    text-decoration: line-through;
                    }
                    code.small { font-size: small;
                    }
                    p.table.footnote { font-size: 8pt;
                    }

                    table.casting { font-size:
                    x-small;
                    }
                    table.hierarchy { font-size: x-small;
                    }
                    table.proto {

                    }

                    td.castY { background-color: #7FFF7F;
                    color: black;
                    text-align:
                    center;
                    vertical-align: middle;
                    }

                    td.castN { background-color:
                    #FF7F7F;
                    color: black;
                    text-align: center;
                    vertical-align: middle;
                    }

                    td.castM { background-color: white;
                    color: black;
                    text-align: center;
                    vertical-align: middle;
                    }

                    td.castOther { background-color: yellow;
                    color: black;
                    text-align: center;
                    vertical-align: middle;
                    }

                    span.cancast:hover { background-color: #ffa;
                    color: black;
                    }

                    div.protoref { margin-left: 0.5in;
                    text-indent: -0.5in;
                    }

                    dd.indent {
                    margin-left: 2em;
                    }

                    p.element-syntax { border: solid thin;
                    background-color: #ffccff
                    }

                    p.element-syntax-chg { border: solid
                    thick yellow; background-color: #ffccff
                    }

                    div.proto {
                    padding: .5em;
                    border: .5em;
                    border-left-style: solid;
                    page-break-inside: avoid;
                    margin: 1em auto;
                    border-color: #ff99ff;
                    background: #ffe6ff;
                    overflow: auto;
                    }


                    div.example-chg { border: solid thick yellow;
                    background-color: #40e0d0; padding:
                    1em
                    }

                    div.ffheader {
                    margin-top:
                    .8rem;
                    font-size: 140%;
                    font-variant: all-small-caps;
                    text-transform:
                    lowercase;
                    font-weight: bold;
                    color: hsla(203, 20%, 40%, .7);
                    }

                    span.verb { font: small-caps 100% sans-serif
                    }

                    span.error {
                    font-size: small
                    }

                    span.definition { font: small-caps 100% sans-serif
                    }

                    span.grayed { color: gray
                    }

                    table.scrap td {
                    vertical-align:
                    baseline;
                    text-align: left;
                    padding-left: 30px;
                    }

                    table.data
                    table.index {
                    border-bottom:2px !important ;
                    }</style>
    <script src="lib/prettify.js" type="text/javascript"> </script>
    <script src="lib/lang-xq.js" type="text/javascript"> </script>
    <link rel="stylesheet" type="text/css" href="../resources/base.css">
      <link rel="stylesheet" type="text/css" href="lib/prettify.css">
   </head>
   <body class="home" id="top">
      <div id="main">
         <h1>
        <span class="namespace">expkg-zone58.image.metadata</span>
            			&nbsp;
            			library
            			module
            		
         </h1>
         <dl>
            <dt class="label">Summary</dt>
            <dd>return image metadata as xml using http://drewnoakes.com/code/exif/
               usage: metadata:read('C:/temp/apic.jpg')
               xml format based on xmlcalabash1
               https://github.com/ndw/xmlcalabash1/blob/master/src/com/xmlcalabash/extensions/MetadataExtractor.java
               includes utility functions for post processing some tags such as GPS information.
            </dd>
            <dt>Rest</dt>
            <dd>expkg-zone58.image.metadatametadata-extractor.xqmreturn image metadata as xml using http://drewnoakes.com/code/exif/ usage: metadata:read('C:/temp/apic.jpg')
               xml format based on xmlcalabash1 https://github.com/ndw/xmlcalabash1/blob/master/src/com/xmlcalabash/extensions/MetadataExtractor.java
               includes utility functions for post processing some tags such as GPS information.
               <p>
                  			Author:
                  			andy bunce
               </p>
            </dd>
         </dl>
         <div id="functions">
            <h3>
          <a href="#functions">Functions</a>
        </h3>
            <div id="read#1">
               <h4>
            <a href="#read#1">read#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>extract metadata</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare function read($path as xs:string) as element(metadata)</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>path
                           			as
                           			xs:string source file
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>element(metadata)</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="tags#1">
               <h4>
            <a href="#tags#1">tags#1</a>
          </h4>
               <dl>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare function tags($path as xs:string) as element(tag)*</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>path
                           			as
                           			xs:string
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>element(tag)*</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="dir#1">
               <h4>
            <a href="#dir#1">dir#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>tags in directory</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare %private function dir($dir as item()*) as element(tag)*</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>dir
                           			as
                           			item()*
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>element(tag)*</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="tag#1">
               <h4>
            <a href="#tag#1">tag#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>extract a single tag</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare %private function tag($tag as item()*) as element(tag)</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>tag
                           			as
                           			item()*
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>element(tag)</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="src#1">
               <h4>
            <a href="#src#1">src#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>file or stream for http
                     http NOT WORKING
                  </dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare %private function src($path as item()*) as item()*</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>path
                           			as
                           			item()*
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>item()*</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="clean-string#1">
               <h4>
            <a href="#clean-string#1">clean-string#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>remove bad chars from java string
                     need more eg [^\x09\x0A\x0D\x20-\uD7FF\uE000-\uFFFD\u10000-u10FFFF]
                  </dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare %private function clean-string($s as item()*) as item()*</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>s
                           			as
                           			item()*
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>item()*</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="java-for-each#2">
               <h4>
            <a href="#java-for-each#2">java-for-each#2</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>apply function fn to each item in java list thing</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare %private function java-for-each($items as item()*, $fn as item()*) as item()*</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>items
                           			as
                           			item()*
                        </li>
                        <li>fn
                           			as
                           			item()*
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>item()*</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="isodate#1">
               <h4>
            <a href="#isodate#1">isodate#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>convert date like "2010:06:30 14:26:25" to iso format</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare function isodate($value as xs:string) as xs:string</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>value
                           			as
                           			xs:string
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>xs:string</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="geodecimal#1">
               <h4>
            <a href="#geodecimal#1">geodecimal#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>convert degrees minutes seconds to decimal degrees</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare function geodecimal($dms as xs:string) as xs:double</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>dms
                           			as
                           			xs:string string like 45.0� 1.0' 46.32869861594543"
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>xs:double</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="geo#1">
               <h4>
            <a href="#geo#1">geo#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>process gps elements</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare function geo($metadata as element(metadata)) as element(geo)?</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>metadata
                           			as
                           			element(metadata)
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>element(geo)?: geo tag with lat and long children</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="keywords#1">
               <h4>
            <a href="#keywords#1">keywords#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>extract keywords and split into seperate elements</dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare function keywords($metadata as element(metadata)) as element(keywords)?</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>metadata
                           			as
                           			element(metadata)
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>element(keywords)?</li>
                     </ul>
                  </dd>
               </dl>
            </div>
            <div id="core#1">
               <h4>
            <a href="#core#1">core#1</a>
          </h4>
               <dl>
                  <dt class="label">Summary</dt>
                  <dd>extract core stuff
                     width,height,datetaken,model,caption
                  </dd>
                  <dt class="label">Signature</dt>
                  <dd>
                     <div class="proto">declare function core($metadata as element(metadata)) as element()*</div>
                  </dd>
                  <dt class="label">Parameters</dt>
                  <dd>
                     <ul>
                        <li>metadata
                           			as
                           			element(metadata)
                        </li>
                     </ul>
                  </dd>
                  <dt class="label">Return</dt>
                  <dd>
                     <ul>
                        <li>element()*</li>
                     </ul>
                  </dd>
               </dl>
            </div>
         </div>
         <div id="namespaces">
            <h3>
          <a href="#namespaces">Namespaces</a>
        </h3>
            <p>The following namespace are defined:</p>
            <table style="float:none">
               <thead>
                  <tr>
                     <th>Prefix</th>
                     <th>Uri</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                     <td>ArrayList</td>
                     <td>java:java.util.ArrayList</td>
                  </tr>
                  <tr>
                     <td>Directory</td>
                     <td>java:com.drew.metadata.Directory</td>
                  </tr>
                  <tr>
                     <td>File</td>
                     <td>java:java.io.File</td>
                  </tr>
                  <tr>
                     <td>ImageMetadataReader</td>
                     <td>java:com.drew.imaging.ImageMetadataReader</td>
                  </tr>
                  <tr>
                     <td>Metadata</td>
                     <td>java:com.drew.metadata.Metadata</td>
                  </tr>
                  <tr>
                     <td>Tag</td>
                     <td>java:com.drew.metadata.Tag</td>
                  </tr>
                  <tr>
                     <td>URL</td>
                     <td>java:java.net.URL</td>
                  </tr>
                  <tr>
                     <td>URLConnection</td>
                     <td>java.net.URLConnection</td>
                  </tr>
                  <tr>
                     <td>ann</td>
                     <td>http://www.w3.org/2012/xquery</td>
                  </tr>
                  <tr>
                     <td>apb</td>
                     <td>java:org.apb.modules.TestModule</td>
                  </tr>
                  <tr>
                     <td>metadata</td>
                     <td>expkg-zone58.image.metadata</td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div>
            <h3>Original Source Code</h3>
        <pre class="prettyprint lang-xq">Not available</pre>
      </div>
      <br>
      <div class="footer">
            <p style="text-align:right">
          <i></i>
               							|
               							generated at
               							2017-03-12T22:54:05.27Z
            </p>
         </div>
      </div>
      <nav id="toc">
         <div>
        <a href="..">↰</a>expkg-zone58.image.metadata
         </div>
         <h2>
        <a id="contents"></a>
            				Table of Contents
            			
         </h2>
         <ol class="toc">
            <li>
          <a href="#main">
            <span class="secno">1 </span>
            <span class="content">Introduction</span>
          </a>
        </li>
            <li>
               <ol class="toc">
                  <li>
              <a href="#variables">
                <span class="secno">2 </span>
                <span class="content">Variables</span>
              </a>
              <ol class="toc"></ol>
                  </li>
               </ol>
            </li>
            <li>
               <ol class="toc">
                  <li>
              <a href="#functions">
                <span class="secno">3 </span>
                <span class="content">Functions</span>
              </a>
              <ol class="toc">
                        <li>
                  <a href="#clean-string#1">
                    <span class="secno">
                                 												3.
                                 												1</span>
                    <span class="content">clean-string#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#core#1">
                    <span class="secno">
                                 												3.
                                 												2</span>
                    <span class="content">core#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#dir#1">
                    <span class="secno">
                                 												3.
                                 												3</span>
                    <span class="content">dir#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#geo#1">
                    <span class="secno">
                                 												3.
                                 												4</span>
                    <span class="content">geo#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#geodecimal#1">
                    <span class="secno">
                                 												3.
                                 												5</span>
                    <span class="content">geodecimal#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#isodate#1">
                    <span class="secno">
                                 												3.
                                 												6</span>
                    <span class="content">isodate#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#java-for-each#2">
                    <span class="secno">
                                 												3.
                                 												7</span>
                    <span class="content">java-for-each#2</span>
                  </a>
                </li>
                        <li>
                  <a href="#keywords#1">
                    <span class="secno">
                                 												3.
                                 												8</span>
                    <span class="content">keywords#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#read#1">
                    <span class="secno">
                                 												3.
                                 												9</span>
                    <span class="content">read#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#src#1">
                    <span class="secno">
                                 												3.
                                 												10</span>
                    <span class="content">src#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#tag#1">
                    <span class="secno">
                                 												3.
                                 												11</span>
                    <span class="content">tag#1</span>
                  </a>
                </li>
                        <li>
                  <a href="#tags#1">
                    <span class="secno">
                                 												3.
                                 												12</span>
                    <span class="content">tags#1</span>
                  </a>
                </li>
                     </ol>
                  </li>
               </ol>
            </li>
            <li>
          <a href="#namespaces">
            <span class="secno">4 </span>
            <span class="content">Namespaces</span>
          </a>
        </li>
         </ol>
      </nav>
    <script type="application/javascript">
					window.onload = function(){ prettyPrint(); }
				</script>
  </body>
</html>